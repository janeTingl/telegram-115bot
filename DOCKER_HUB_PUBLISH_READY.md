# ğŸš€ Docker Hub é¦–æ¬¡å‘å¸ƒå‡†å¤‡å°±ç»ª

## ğŸ“Š å½“å‰çŠ¶æ€

âœ… **å·¥ä½œæµé…ç½®**: `.github/workflows/docker-publish.yml` å·²æ­£ç¡®é…ç½®  
âœ… **Docker é…ç½®**: `Dockerfile`, `docker-compose.yml` å·²å‡†å¤‡å°±ç»ª  
âœ… **å‡­æ®ä¿¡æ¯**: Docker Hub ç”¨æˆ·åå’Œ Token å·²å‡†å¤‡  
â³ **GitHub Secrets**: éœ€è¦æ‰‹åŠ¨é…ç½®ï¼ˆAPI æƒé™é™åˆ¶ï¼‰  
â³ **é¦–æ¬¡æ„å»º**: ç­‰å¾… Secrets é…ç½®å®Œæˆåè§¦å‘  

## ğŸ¯ ç«‹å³è¡ŒåŠ¨ - 3 æ­¥å®Œæˆé¦–æ¬¡å‘å¸ƒ

### ç¬¬ 1 æ­¥ï¼šé…ç½® GitHub Secretsï¼ˆ5 åˆ†é’Ÿï¼‰

**ç›´æ¥è®¿é—®é…ç½®é¡µé¢**ï¼š
```
https://github.com/janeTingl/telegram-115bot/settings/secrets/actions
```

**æ·»åŠ ä¸¤ä¸ª Secrets**ï¼š

1. **DOCKERHUB_USERNAME**
   ```
   Name:  DOCKERHUB_USERNAME
   Value: janebin
   ```

2. **DOCKERHUB_TOKEN**
   ```
   Name:  DOCKERHUB_TOKEN
   Value: [ä» .dockerhub-token æ–‡ä»¶è·å–]
   ```
   
   **è·å– Token**: åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œ `cat .dockerhub-token`

> ğŸ’¡ è¯¦ç»†é…ç½®æŒ‡å—è¯·æŸ¥çœ‹ï¼š`SECRETS_CONFIGURATION_REQUIRED.md`

### ç¬¬ 2 æ­¥ï¼šè§¦å‘å·¥ä½œæµï¼ˆ1 åˆ†é’Ÿï¼‰

é…ç½®å®Œ Secrets åï¼Œé€‰æ‹©ä»¥ä¸‹ä»»ä¸€æ–¹å¼è§¦å‘ï¼š

**æ–¹å¼ Aï¼šæ‰‹åŠ¨è§¦å‘ï¼ˆæ¨èï¼‰**
1. è®¿é—®ï¼šhttps://github.com/janeTingl/telegram-115bot/actions
2. é€‰æ‹©å·¥ä½œæµï¼š`Build and Push Docker Image to Docker Hub`
3. ç‚¹å‡»ï¼š`Run workflow` â†’ é€‰æ‹©åˆ†æ”¯ `main` â†’ ç‚¹å‡»ç»¿è‰² `Run workflow` æŒ‰é’®

**æ–¹å¼ Bï¼šæ¨é€ä»£ç è§¦å‘**
```bash
# æœ¬æ¬¡å·²åŒ…å«ç‰ˆæœ¬æ›´æ–°ï¼Œæ¨é€å³å¯è§¦å‘
git push origin main
```

### ç¬¬ 3 æ­¥ï¼šéªŒè¯å‘å¸ƒï¼ˆ15-25 åˆ†é’Ÿï¼‰

**ç›‘æ§æ„å»ºè¿›åº¦**ï¼š
```
https://github.com/janeTingl/telegram-115bot/actions
```

æ„å»ºåŒ…å« 3 ä¸ªé˜¶æ®µï¼Œé¢„è®¡ 15-25 åˆ†é’Ÿï¼š
- âœ… Pre-build Validationï¼ˆ1-2 åˆ†é’Ÿï¼‰
- âœ… Build and Push Docker Imageï¼ˆ10-20 åˆ†é’Ÿï¼‰
- âœ… Notificationï¼ˆ< 1 åˆ†é’Ÿï¼‰

**éªŒè¯å‘å¸ƒæˆåŠŸ**ï¼š

1. **GitHub Actions çŠ¶æ€ä¸ºç»¿è‰²**
   - æ‰€æœ‰æ­¥éª¤éƒ½æœ‰ç»¿è‰²å‹¾é€‰ âœ“

2. **Docker Hub é•œåƒå¯è§**
   ```
   https://hub.docker.com/r/janebin/telegram-115bot
   ```
   - æ˜¾ç¤º `latest` å’Œ `main` æ ‡ç­¾
   - æ”¯æŒ `linux/amd64` å’Œ `linux/arm64` æ¶æ„

3. **æœ¬åœ°æ‹‰å–æˆåŠŸ**
   ```bash
   docker pull janebin/telegram-115bot:latest
   ```

## ğŸ“ æœ¬æ¬¡æ›´æ–°å†…å®¹

### æ–°å¢æ–‡ä»¶

1. **SECRETS_CONFIGURATION_REQUIRED.md**
   - å®Œæ•´çš„ GitHub Secrets é…ç½®æŒ‡å—
   - åŒ…å«å‡†ç¡®çš„é…ç½®å€¼å’Œè¯¦ç»†æ­¥éª¤
   - æ•…éšœæ’æŸ¥å’ŒéªŒè¯æ–¹æ³•

2. **configure-secrets.sh**
   - Docker Hub å‡­æ®éªŒè¯è„šæœ¬
   - è‡ªåŠ¨åŒ–é…ç½®è¾…åŠ©å·¥å…·
   - æä¾›æ‰‹åŠ¨é…ç½®æŒ‡å¯¼

3. **CHANGELOG.md**
   - ç‰ˆæœ¬æ›´æ–°æ—¥å¿—
   - è®°å½•æ‰€æœ‰é‡è¦å˜æ›´

4. **æœ¬æ–‡ä»¶ï¼ˆDOCKER_HUB_PUBLISH_READY.mdï¼‰**
   - é¦–æ¬¡å‘å¸ƒè¡ŒåŠ¨æŒ‡å—
   - å½“å‰çŠ¶æ€æ€»ç»“

### æ›´æ–°æ–‡ä»¶

1. **README.md**
   - æ›´æ–° GitHub Actions å¾½ç«  URLï¼ˆjaneTingl/telegram-115botï¼‰
   - æ›´æ–° git clone URL
   - ç¡®ä¿æ‰€æœ‰é“¾æ¥æŒ‡å‘æ­£ç¡®çš„ä»“åº“

2. **VERSION**
   - ä» 1.0.0 å‡çº§åˆ° 1.0.1
   - è§¦å‘å·¥ä½œæµæ„å»º

## ğŸ”§ è¾…åŠ©å·¥å…·

### éªŒè¯ Docker Hub å‡­æ®

è¿è¡ŒéªŒè¯è„šæœ¬ï¼š
```bash
./configure-secrets.sh
```

è¯¥è„šæœ¬ä¼šï¼š
- âœ… éªŒè¯ Docker Hub å‡­æ®æœ‰æ•ˆæ€§
- âœ… å°è¯•è‡ªåŠ¨é…ç½® GitHub Secretsï¼ˆå¦‚æœæƒé™å…è®¸ï¼‰
- âœ… æä¾›è¯¦ç»†çš„æ‰‹åŠ¨é…ç½®æŒ‡å¯¼

### éªŒè¯ Tokenï¼ˆå¤‡ç”¨ï¼‰

å¦‚éœ€å•ç‹¬éªŒè¯ Tokenï¼š
```bash
./verify-dockerhub-token.sh
```

## ğŸ“š ç›¸å…³æ–‡æ¡£

æŒ‰ä¼˜å…ˆçº§æ’åºï¼š

1. **ç«‹å³è¡ŒåŠ¨**
   - ğŸ“„ `SECRETS_CONFIGURATION_REQUIRED.md` - é©¬ä¸Šé…ç½® Secrets

2. **è¯¦ç»†æŒ‡å—**
   - ğŸ“„ `GITHUB_SECRETS_SETUP.md` - GitHub Secrets è¯¦ç»†è¯´æ˜
   - ğŸ“„ `DOCKER_PUBLISH.md` - Docker å‘å¸ƒå·¥ä½œæµè¯¦è§£

3. **å‚è€ƒä¿¡æ¯**
   - ğŸ“„ `DEPLOYMENT_CHECKLIST.md` - éƒ¨ç½²æ£€æŸ¥æ¸…å•
   - ğŸ“„ `SETUP_INSTRUCTIONS.md` - å¿«é€Ÿè®¾ç½®æŒ‡å—
   - ğŸ“„ `CHANGELOG.md` - ç‰ˆæœ¬æ›´æ–°æ—¥å¿—

## âš ï¸ é‡è¦æç¤º

### ä¸ºä»€ä¹ˆéœ€è¦æ‰‹åŠ¨é…ç½®ï¼Ÿ

ç”±äº GitHub API æƒé™é™åˆ¶ï¼ˆéœ€è¦ `admin:repo_hook` æˆ– `admin` ä½œç”¨åŸŸï¼‰ï¼Œè‡ªåŠ¨åŒ–å·¥å…·æ— æ³•ç›´æ¥é…ç½® Repository Secretsã€‚è¿™æ˜¯ GitHub çš„å®‰å…¨è®¾è®¡ï¼Œç¡®ä¿åªæœ‰ä»“åº“ç®¡ç†å‘˜æ‰èƒ½è®¾ç½®æ•æ„Ÿå‡­æ®ã€‚

### æ‰‹åŠ¨é…ç½®æ­¥éª¤å¾ˆç®€å•

æ•´ä¸ªé…ç½®è¿‡ç¨‹ä¸è¶…è¿‡ 5 åˆ†é’Ÿï¼š
1. è®¿é—® Settings â†’ Secrets and variables â†’ Actions
2. ç‚¹å‡» "New repository secret" ä¸¤æ¬¡
3. å¤åˆ¶ç²˜è´´åç§°å’Œå€¼
4. å®Œæˆï¼

### é…ç½®ä¸€æ¬¡ï¼Œæ°¸ä¹…æœ‰æ•ˆ

é…ç½®å®Œæˆåï¼š
- âœ… æ¯æ¬¡æ¨é€åˆ° `main` åˆ†æ”¯è‡ªåŠ¨æ„å»º
- âœ… åˆ›å»ºç‰ˆæœ¬æ ‡ç­¾ï¼ˆå¦‚ `v1.0.0`ï¼‰è‡ªåŠ¨å‘å¸ƒ
- âœ… æ”¯æŒæ‰‹åŠ¨è§¦å‘æ„å»º
- âœ… æ— éœ€é‡å¤é…ç½®

## âœ… æˆåŠŸæ ‡å¿—

é…ç½®å’Œé¦–æ¬¡å‘å¸ƒæˆåŠŸåï¼Œä½ ä¼šçœ‹åˆ°ï¼š

### GitHub ä»“åº“
- âœ… Actions é¡µé¢æ˜¾ç¤ºç»¿è‰²å‹¾é€‰çš„å·¥ä½œæµ
- âœ… README å¾½ç« æ˜¾ç¤º "passing" çŠ¶æ€

### Docker Hub
- âœ… ä»“åº“é¡µé¢ï¼šhttps://hub.docker.com/r/janebin/telegram-115bot
- âœ… æ˜¾ç¤º `latest` æ ‡ç­¾
- âœ… æ˜¾ç¤ºå¤šæ¶æ„æ”¯æŒï¼ˆAMD64, ARM64ï¼‰
- âœ… æ˜¾ç¤ºæœ€è¿‘æ¨é€æ—¶é—´

### æœ¬åœ°ç¯å¢ƒ
- âœ… `docker pull janebin/telegram-115bot:latest` æˆåŠŸ
- âœ… `docker images` æ˜¾ç¤ºé•œåƒ
- âœ… å¯ä»¥è¿è¡Œå®¹å™¨ï¼š`docker run -d -p 12808:12808 janebin/telegram-115bot:latest`

## ğŸ‰ å‘å¸ƒåçš„ä¸‹ä¸€æ­¥

### 1. ä½¿ç”¨ Docker Compose éƒ¨ç½²

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/janeTingl/telegram-115bot.git
cd telegram-115bot

# å¯åŠ¨æœåŠ¡
docker-compose up -d

# è®¿é—®ç®¡ç†é¢æ¿
open http://localhost:12808
```

### 2. åˆ›å»ºç‰ˆæœ¬å‘å¸ƒ

```bash
# åˆ›å»ºç‰ˆæœ¬æ ‡ç­¾
git tag -a v1.0.1 -m "First Docker Hub release"
git push origin v1.0.1

# è¿™ä¼šè‡ªåŠ¨è§¦å‘å¸¦ç‰ˆæœ¬å·çš„é•œåƒæ„å»º
# ç”Ÿæˆæ ‡ç­¾ï¼šv1.0.1, 1.0.1, 1.0, 1, latest
```

### 3. ç›‘æ§å’Œç»´æŠ¤

- ğŸ“Š æŸ¥çœ‹ Actions è¿è¡Œå†å²
- ğŸ“ˆ ç›‘æ§ Docker Hub æ‹‰å–ç»Ÿè®¡
- ğŸ”„ å®šæœŸæ›´æ–°ä¾èµ–å’Œå®‰å…¨è¡¥ä¸
- ğŸ“ æ›´æ–° CHANGELOG.md

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

### å¸¸è§é—®é¢˜

**Q: Secrets é…ç½®åä¸ç”Ÿæ•ˆï¼Ÿ**
A: ç¡®ä¿åç§°å®Œå…¨åŒ¹é…ï¼ˆåŒºåˆ†å¤§å°å†™ï¼‰ï¼š`DOCKERHUB_USERNAME` å’Œ `DOCKERHUB_TOKEN`

**Q: æ„å»ºå¤±è´¥ï¼Œæ˜¾ç¤º "Username and password required"ï¼Ÿ**
A: æ£€æŸ¥ Secrets æ˜¯å¦æ­£ç¡®é…ç½®ï¼Œæˆ–é‡æ–°åˆ›å»º Secrets

**Q: æ„å»ºè¶…æ—¶ï¼Ÿ**
A: å–æ¶ˆå½“å‰è¿è¡Œï¼Œç­‰å¾…å‡ åˆ†é’Ÿåé‡æ–°è¿è¡Œ

### æŸ¥çœ‹æ—¥å¿—

åœ¨ Actions é¡µé¢ç‚¹å‡»å¤±è´¥çš„å·¥ä½œæµï¼Œå±•å¼€å¤±è´¥çš„æ­¥éª¤æŸ¥çœ‹è¯¦ç»†é”™è¯¯ä¿¡æ¯ã€‚

### æ–‡æ¡£èµ„æº

æ‰€æœ‰é—®é¢˜çš„ç­”æ¡ˆéƒ½åœ¨æ–‡æ¡£ä¸­ï¼š
- é…ç½®é—®é¢˜ â†’ `SECRETS_CONFIGURATION_REQUIRED.md`
- å·¥ä½œæµé—®é¢˜ â†’ `DOCKER_PUBLISH.md`
- éƒ¨ç½²é—®é¢˜ â†’ `DEPLOYMENT_CHECKLIST.md`

---

## ğŸ æ€»ç»“

**å½“å‰çŠ¶æ€**: æ‰€æœ‰å‡†å¤‡å·¥ä½œå·²å®Œæˆï¼Œç­‰å¾…é…ç½® GitHub Secrets

**ä¸‹ä¸€æ­¥è¡ŒåŠ¨**: 
1. â° **ç°åœ¨**: è®¿é—® GitHub é…ç½® Secretsï¼ˆ5 åˆ†é’Ÿï¼‰
2. â° **é…ç½®å**: è§¦å‘å·¥ä½œæµï¼ˆ1 åˆ†é’Ÿï¼‰
3. â° **ç­‰å¾…**: æ„å»ºå®Œæˆï¼ˆ15-25 åˆ†é’Ÿï¼‰
4. âœ… **å®Œæˆ**: éªŒè¯ Docker Hub é•œåƒ

**é¢„è®¡æ€»æ—¶é—´**: ~30 åˆ†é’Ÿï¼ˆå¤§éƒ¨åˆ†æ˜¯è‡ªåŠ¨æ„å»ºæ—¶é—´ï¼‰

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0  
**æœ€åæ›´æ–°**: 2024-12-04  
**çŠ¶æ€**: ğŸŸ¡ å¾…é…ç½® Secrets  
**ä¼˜å…ˆçº§**: ğŸ”¥ é«˜  

**å‡†å¤‡å®Œæˆï¼Œå¼€å§‹è¡ŒåŠ¨å§ï¼** ğŸš€
